# 2208

2025-10-15

- refactor(imaging): move saving of Opencv image to data module (#778) (@ArthurKun21)
- fix(imaging): Improve Coroutine Dispatcher usage on loading images (#779) (@ArthurKun21)
- feat(tesseract): extract tesseract models once per whole app lifecycle (#780) (@ArthurKun21)
- refactor(tesseract): move handling of bitmap cleanup (#782) (@ArthurKun21)
- feat(card): read command cards in parallel using coroutines (#783) (@ArthurKun21)
- feat(battle): add delay when on tips screen (#784) (@ArthurKun21)
- docs: update git commit message templates (@ArthurKun21)
- Update dependency com.google.devtools.ksp:symbol-processing-gradle-plugin to v2.2.20-2.0.4 (#785) (@renovate[bot])
- feat(card): improve critical star percentage detection (#786) (@ArthurKun21)
- Update dependency androidx.compose:compose-bom-alpha to v2025.10.00 (#767) (@renovate[bot])
- Update dependency org.junit:junit-bom to v6 (#773) (@renovate[bot])
- Update dependency io.mockk:mockk to v1.14.6 (#775) (@renovate[bot])
- docs: Update readme (#789) (@ArthurKun21)
- fix(preference): cache some preferences with StateFlow (#788) (@ArthurKun21)
- feat(ui): Sort favorite configs to the top of the list (#792) (@ArthurKun21)
- fix(cards): use the correct coroutines for concurrency isolation (#791) (@ArthurKun21)
- feat(support): faster support refresh (#790) (@ArthurKun21)
- chore(storage): centralized storage related code to data module (#797) (@ArthurKun21)
- feat(battle): set stop on bond level up enabled by default (#800) (@ArthurKun21)
- feat: add grand assassin icon  (#801) (@ArthurKun21)
- feat(support): add new servant template images for Grand Assassin (#802) (@ArthurKun21)
- fix(storage): add default extension when loading CE/friend config without one (#803) (@ArthurKun21)

## Feat

- Enabled parallel reading of the command cards. If anyone wants to bring back the one at a time go to `Fine-Tune` -> `Optimizations` -> Set `Parallel Command Card Check` to 1

    <img width="616" height="242" alt="image" src="https://github.com/user-attachments/assets/7b85ebda-ff77-459a-b6ab-614addf64aab" />

- Switched from OCR based to template image matching for reading critical stars.
- Added new option to sort configs mark with favorite to the top

    <img width="643" height="81" alt="image" src="https://github.com/user-attachments/assets/19e3e9e6-9a2f-4467-84c2-74166dc9e06d" />

- Faster Support refresh, switched from time based waiting to actively checking if the refresh button is now active. It has a fallback with refresh timeout.
- `Stop on bond level up` is now enabled by default. To turned it off go to `Settings` -> `Battle` -> toggle `Stop on bond level up`

    <img width="815" height="82" alt="image" src="https://github.com/user-attachments/assets/87bc581d-1e84-477b-bbd9-e1ee201c318e" />

- Added new servant template images
    - [First Hassan](https://apps.atlasacademy.io/db/JP/servant/154)
    - [Kama](https://apps.atlasacademy.io/db/JP/servant/239)
    - [Kawakami Gensai](https://apps.atlasacademy.io/db/JP/servant/453)
    - [Li Shuwen](https://apps.atlasacademy.io/db/JP/servant/235)
- When on `Tips` screen, we have added delay on there to remove wasted image matching process.

## Fixes

- used the correct coroutines for optimized image loading with opencv
- Unable to load CE/Friend support if there's no ".png" extension on the config file.
