# 2178

2025-09-23

- Update lifecycle to v2.9.4 (#755) (@renovate[bot])
- Update Gradle to v9.1.0 (#756) (@renovate[bot])
- chore: add translation prompt for multiple languages (@ArthurKun21)
- feat: update UI with Material3 Expressive and prepare for protobuf migration (#754) (@ArthurKun21)
- feat(support): update default max refresh to 25 (@ArthurKun21)
- feat: Streamline configuration sorting (#757) (@ArthurKun21)
- chore: update translation prompt with clearer examples and instructions (@ArthurKun21)
- feat: add Grand Rider icon (#758) (@ArthurKun21)
- feat(ui): add random servant illustrations to some backgrounds for fun (#759) (@ArthurKun21)
- feat(tesseract): implement retry mechanism for language model initialization (#760) (@ArthurKun21)
- refactor(tesseract): remove direct reference to DroidCvPattern (#761) (@ArthurKun21)
- feat(tesseract): use Coroutine newSingleThreadContext instead of Executors (#762) (@ArthurKun21)
- fix(script): don't include the pause time in the elapsed time for scripts (#763) (@ArthurKun21)
- feat(ui): add option for relative time at library screen (#764) (@ArthurKun21)
- fix(Battle): temp fix for average time per run not being calculated properly (#765) (@ArthurKun21)

> [!NOTE]
>
> This is mostly UI update

## Fixes

- Language picker doesn't update the app's language. Made a mistake with the setup of this last preference datastore migration.
- In AutoBattle, pausing the script will now not count the pause time into the script's runtime. Going to update all other parts of the code in the future.
- Add a retry mechanism when loading the language model for tesseract

## Features

- Use Material3Expressive
- Use dynamic colors for Android 12 and above
- Update now to make the play button to use the app's theme
- Update the sorting configuration to make it easier to see the sorting.

    <img width="787" height="163" alt="Library sorting" src="https://github.com/user-attachments/assets/9eaf7021-8e01-4521-81bb-4aeb18d3ea6a" />

    Library

    <img width="358" height="149" alt="Battle Launcher sorting" src="https://github.com/user-attachments/assets/0bdc941e-99e0-42fc-8c2d-43c8473e9038" />

    Battle Launcher


- Added Relative time to the Library

    <img width="341" height="111" alt="image" src="https://github.com/user-attachments/assets/cfe38f12-cbe9-4d29-99f5-92b61b57fe0c" />

    You can change it from Settings -> Appearance -> `Relative Timestamps`

- Default support refresh is now 25 from 5
- Show a popup when you have preferred support selection but has empty preferred servant/CE

    <img width="585" height="293" alt="image" src="https://github.com/user-attachments/assets/e61899dc-79e6-47b0-b785-d2f24bdeae53" />

    You can click the `Return back to library` if you don't want to update.


## Chore

- Updated the app's architecture to make it easier to swap when protobuf migration happens in the future.
